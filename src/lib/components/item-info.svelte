<script lang="ts">
	import { isEarlierThan } from "$lib/date-logic";

	let {
		currentRents,
		itemId,
	}: { currentRents: Map<number, RentInfo>; itemId: number } = $props();

	let item = $derived(currentRents.get(itemId));
</script>

{#if currentRents.has(itemId)}
	<p style="margin-top: 8px; margin-bottom: 4px">
		{#if isEarlierThan(new Date(item?.rentalEndDate!), new Date())}
			ğŸ”“ ëŒ€ì—¬ ê¸°í•œ ì´ˆê³¼ - {item?.renterName} (ëŒ€ì—¬ ì¢…ë£Œì¼:
			{item?.rentalEndDate!})
		{:else}
			ğŸ”’ ëŒ€ì—¬ ì¤‘ - {item?.renterName} (ëŒ€ì—¬ ì¢…ë£Œì¼: {item?.rentalEndDate!})
		{/if}
	</p>
{:else}
	<p style="margin-top: 8px; margin-bottom: 16px">âœ… ëŒ€ì—¬ ê°€ëŠ¥</p>
{/if}
